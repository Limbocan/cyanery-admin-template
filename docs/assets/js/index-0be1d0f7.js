var de=Object.defineProperty,he=Object.defineProperties;var pe=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var X=(i,a,r)=>a in i?de(i,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[a]=r,j=(i,a)=>{for(var r in a||(a={}))ge.call(a,r)&&X(i,r,a[r]);if(Q)for(var r of Q(a))me.call(a,r)&&X(i,r,a[r]);return i},q=(i,a)=>he(i,pe(a));import{r as z,p as E,w as be,D as Y,i as ne,o as l,c,j as $,v as S,n as T,a as t,F as I,k as M,e as R,f as U,A as D,u as o,z as H,am as A,an as F,B as _e,a9 as Z,x as le,s as h,E as ve,a6 as ie}from"./@vue-4abc066e.js";import{u as re,b as G}from"./vue-router-695d089b.js";import{O as xe,q as fe}from"./cyanery-menu-818aec84.js";import{_ as J,a as ye,p as ee,b as N,t as C,s as n,c as Ce,m as ke,l as we,g as te,d as oe,u as $e,e as Ve,f as Se}from"./index-508afd27.js";import{o as W,c as se,d as ae,p as O}from"./element-plus-def4a4c2.js";import"./axios-bb61b433.js";import"./cyanery-error-monitor-df34d9fb.js";import"./dayjs-9d4e30bb.js";import"./@vueuse-7bdcf83d.js";import"./@element-plus-bd47cad7.js";import"./lodash-es-55945e9d.js";import"./async-validator-96e63ec0.js";import"./@popperjs-065daa60.js";import"./escape-html-21541a7f.js";import"./normalize-wheel-es-97f4515d.js";import"./@ctrl-a2a2eaea.js";const K=i=>(A("data-v-8cfee510"),i=i(),F(),i),Te={class:"layout-tag"},Le=K(()=>t("use",{"xlink:href":"#cyanery-youjiantou"},null,-1)),Ue=[Le],Be=["onClick"],Pe=["onClick"],We=K(()=>t("use",{"xlink:href":"#cyanery-CloseDefault"},null,-1)),Ie=[We],Me={class:"handler-box"},Re=["onClick"],je=K(()=>t("use",{"xlink:href":"#cyanery-youjiantou"},null,-1)),ze=[je],Ee={__name:"index",setup(i){const a=re(),r=G(),b=ye(),w=z(!1),_=z(null),p=g=>g===a.fullPath,d=E(()=>b.getTagList());be(()=>a.fullPath,()=>{const g={title:a.meta.title,path:a.fullPath,name:a.name,keepAlive:a.meta.keepAlive};!b.hasTag(g)&&a.meta.tag!==!1&&b.addTag(g),Y(()=>L())},{immediate:!0});const m=g=>{r.push({path:g.path})},s=[{label:"\u5237\u65B0",type:1},{label:"\u5173\u95ED\u5F53\u524D",type:2},{label:"\u5173\u95ED\u5176\u4ED6",type:3},{label:"\u5173\u95ED\u6240\u6709\u6807\u7B7E",type:6}],v=(g,u,k)=>{switch(g){case 1:{if(!p(u.path))return;r.replace(a);break}case 2:e(u,k);break;case 3:{const y=d.value.filter(V=>V.name!==u.name&&V.path!==u.path);b.removeTags(y);break}case 6:b.clearTag()}},e=(g,u)=>{var V;const k=d.value[u],y=(V=d.value[u-1])!=null?V:d.value[u+1];b.removeTag(g),y?k.path===a.fullPath&&r.push({path:y.path}):r.push(ee.homePath)},x=g=>{var k;const u=(k=_.value)==null?void 0:k.clientWidth;g==="Left"?_.value.scrollLeft-=u:_.value.scrollLeft+=u},L=()=>{if(!_.value)return;const g=_.value.clientWidth,u=_.value.scrollWidth;w.value=g!==u;const k=_.value.querySelector(".active");Y(()=>k.scrollIntoView({smooth:!0}))};return(g,u)=>{const k=ne("right-click");return l(),c("div",Te,[$((l(),c("svg",{class:T(["tag-handle","tag-handle-left",w.value?"show-handle":""]),onClick:u[0]||(u[0]=y=>x("Left"))},Ue,2)),[[S,w.value]]),t("ul",{ref_key:"tagListRef",ref:_,class:"tag-list"},[(l(!0),c(I,null,M(o(d),(y,V)=>(l(),R(k,{key:V},{right:U(()=>[t("ul",Me,[(l(),c(I,null,M(s,P=>t("li",{key:P.index,class:T(["handler-item",!p(y.path)&&P.type===1?"handler-disabled":""]),onClick:uo=>v(P.type,y,V)},D(P.label),11,Re)),64))])]),default:U(()=>[t("li",{class:T(["tag-li",{active:p(y.path)}])},[t("span",{class:"tag-li-title",onClick:P=>m(y)},D(y.title),9,Be),o(ee).homePath!==y.path?(l(),c("svg",{key:0,class:"tag-li-icon",onClick:P=>e(y,V)},Ie,8,Pe)):H("",!0)],2)]),_:2},1024))),128))],512),$((l(),c("svg",{class:"tag-handle tag-handle-right",onClick:u[1]||(u[1]=y=>x("Right"))},ze,512)),[[S,w.value]])])}}};var ce=J(Ee,[["__scopeId","data-v-8cfee510"]]),qe="./assets/png/logo-97ce1a20.png";const Ne=["src"],Oe=t("h3",{class:"logo-title"}," Cyanery ",-1),ue={__name:"logo",setup(i){const a=N();return(r,b)=>(l(),c("div",{class:T(["header-logo",o(a).getCollapse()?"open-logo":"close-logo"])},[t("img",{src:o(qe),alt:"logo",class:"logo-img"},null,8,Ne),Oe],2))}};const f=i=>(A("data-v-6b32bc95"),i=i(),F(),i),De={class:"setting-box"},He=f(()=>t("h5",{class:"setting-title"}," \u5E03\u5C40\u6A21\u5F0F ",-1)),Ae={class:"setting-laout-group"},Fe=["onUpdate:modelValue","value","onChange"],Ge=f(()=>t("div",{class:"preview-menu"},null,-1)),Je=f(()=>t("div",{class:"preview-header"},null,-1)),Ke=[Ge,Je],Qe=f(()=>t("h5",{class:"setting-title"}," \u7CFB\u7EDF\u4E3B\u9898 ",-1)),Xe={class:"setting-theme-group"},Ye=["onUpdate:modelValue","value","onChange"],Ze={width:"80%",height:"80%",class:"theme--check-icon"},et=["xlink:href"],tt={class:"setting-title"},ot={class:"setting-custom-group"},st={class:"custom-box"},at=f(()=>t("span",{class:"custom-label"},"\u9876\u680F\u80CC\u666F\u8272",-1)),nt={class:"custom-box"},lt=f(()=>t("span",{class:"custom-label"},"\u9876\u680F\u524D\u666F\u8272",-1)),it={class:"custom-box"},rt=f(()=>t("span",{class:"custom-label"},"\u83DC\u5355\u80CC\u666F\u8272",-1)),ct={class:"custom-box"},ut=f(()=>t("span",{class:"custom-label"},"\u83DC\u5355\u6587\u5B57\u989C\u8272",-1)),dt={class:"custom-box"},ht=f(()=>t("span",{class:"custom-label"},"\u83DC\u5355\u5C55\u5F00\u80CC\u666F\u8272",-1)),pt={class:"custom-box"},gt=f(()=>t("span",{class:"custom-label"},"\u5185\u5BB9\u533A\u80CC\u666F\u8272",-1)),mt=f(()=>t("h5",{class:"setting-title"}," \u5176\u4ED6\u914D\u7F6E ",-1)),bt={class:"setting-other-group"},_t={class:"custom-box"},vt=f(()=>t("span",{class:"custom-label"},"\u6807\u7B7E\u4F4D\u7F6E",-1)),xt={class:"custom-box"},ft=f(()=>t("span",{class:"custom-label"},"\u83DC\u5355\u4E3B\u9898",-1)),yt={class:"custom-box"},Ct=f(()=>t("span",{class:"custom-label"},"\u9876\u680F\u9AD8\u5EA6",-1)),kt={class:"custom-box"},wt=f(()=>t("span",{class:"custom-label"},"\u83DC\u5355\u5C55\u5F00\u5BBD\u5EA6",-1)),$t={class:"custom-box"},Vt=f(()=>t("span",{class:"custom-label"},"\u83DC\u5355\u6536\u8D77\u5BBD\u5EA6",-1)),St={__name:"layout-setting",setup(i,{expose:a}){const r=_e({show:!1}),b=we.map(m=>({name:m,class:m+"-preview"})),w=Object.keys(C).map(m=>q(j({},C[m]),{name:m})),_=()=>{r.show=!0},p=(m,s)=>{const v=te("layout_setting");Object.assign(v,{[m]:s}),oe("layout_setting",v)},d=(m,s)=>{const v=te("layout_custom");Object.assign(v,{[m]:s}),oe("layout_custom",v)};return a({openDrawer:_}),(m,s)=>{const v=ne("cy-drawer");return l(),R(v,{modelValue:r.show,"onUpdate:modelValue":s[22]||(s[22]=e=>r.show=e),title:"\u7CFB\u7EDF\u8BBE\u7F6E",background:"#ebebeb",size:"320px"},{default:U(()=>[t("div",De,[He,t("div",Ae,[(l(!0),c(I,null,M(o(b),e=>(l(),c("label",{key:e.name},[$(t("input",{"onUpdate:modelValue":x=>o(n).layout=x,value:e.name,type:"radio",name:"layout",class:"hidden-radio",onChange:x=>p("layout",o(n).layout)},null,40,Fe),[[Z,o(n).layout]]),t("div",{class:T(["layout-box",e.class,o(n).layout===e.name?"active-box":""])},Ke,2)]))),128))]),Qe,t("div",Xe,[(l(!0),c(I,null,M(o(w),e=>(l(),c("label",{key:e.name},[$(t("input",{"onUpdate:modelValue":x=>o(n).theme=x,value:e.name,type:"radio",name:"theme",class:"hidden-radio",onChange:x=>p("theme",o(n).theme)},null,40,Ye),[[Z,o(n).theme]]),t("div",{class:T(["theme-box",o(n).theme===e.name?"active-box":""]),style:le({"--theme-color":e.menuBgColor,"--select-color":e.menuTextColor})},[(l(),c("svg",Ze,[t("use",{"xlink:href":e.name==="custom"?"#cyanery-huihua":"#cyanery-CheckMark"},null,8,et)]))],6)]))),128))]),$(t("h5",tt," \u81EA\u5B9A\u4E49\u4E3B\u9898\u914D\u7F6E ",512),[[S,o(n).theme==="custom"]]),$(t("div",ot,[t("div",st,[at,h(o(W),{modelValue:o(C).custom.headerBgColor,"onUpdate:modelValue":s[0]||(s[0]=e=>o(C).custom.headerBgColor=e),"show-alpha":"",onChange:s[1]||(s[1]=e=>d("headerBgColor",e))},null,8,["modelValue"])]),t("div",nt,[lt,h(o(W),{modelValue:o(C).custom.headerColor,"onUpdate:modelValue":s[2]||(s[2]=e=>o(C).custom.headerColor=e),"show-alpha":"",onChange:s[3]||(s[3]=e=>d("headerColor",e))},null,8,["modelValue"])]),t("div",it,[rt,h(o(W),{modelValue:o(C).custom.menuBgColor,"onUpdate:modelValue":s[4]||(s[4]=e=>o(C).custom.menuBgColor=e),"show-alpha":"",onChange:s[5]||(s[5]=e=>d("menuBgColor",e))},null,8,["modelValue"])]),t("div",ct,[ut,h(o(W),{modelValue:o(C).custom.menuTextColor,"onUpdate:modelValue":s[6]||(s[6]=e=>o(C).custom.menuTextColor=e),"show-alpha":"",onChange:s[7]||(s[7]=e=>d("menuTextColor",e))},null,8,["modelValue"])]),t("div",dt,[ht,h(o(W),{modelValue:o(C).custom.menuOpenBgColor,"onUpdate:modelValue":s[8]||(s[8]=e=>o(C).custom.menuOpenBgColor=e),"show-alpha":"",onChange:s[9]||(s[9]=e=>d("menuOpenBgColor",e))},null,8,["modelValue"])]),t("div",pt,[gt,h(o(W),{modelValue:o(C).custom.contentBgColor,"onUpdate:modelValue":s[10]||(s[10]=e=>o(C).custom.contentBgColor=e),"show-alpha":"",onChange:s[11]||(s[11]=e=>d("contentBgColor",e))},null,8,["modelValue"])])],512),[[S,o(n).theme==="custom"]]),mt,t("div",bt,[t("div",_t,[vt,h(o(ae),{modelValue:o(n).tagPosition,"onUpdate:modelValue":s[12]||(s[12]=e=>o(n).tagPosition=e),class:"setting-select",onChange:s[13]||(s[13]=e=>p("tagPosition",o(n).tagPosition))},{default:U(()=>[(l(!0),c(I,null,M(o(Ce),e=>(l(),R(o(se),{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),t("div",xt,[ft,h(o(ae),{modelValue:o(n).menuTheme,"onUpdate:modelValue":s[14]||(s[14]=e=>o(n).menuTheme=e),class:"setting-select",onChange:s[15]||(s[15]=e=>p("menuTheme",o(n).menuTheme))},{default:U(()=>[(l(!0),c(I,null,M(o(ke),e=>(l(),R(o(se),{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),t("div",yt,[Ct,h(o(O),{modelValue:o(n).layoutConfig.headerHeight,"onUpdate:modelValue":s[16]||(s[16]=e=>o(n).layoutConfig.headerHeight=e),onChange:s[17]||(s[17]=e=>p("headerHeight",o(n).layoutConfig.headerHeight))},null,8,["modelValue"])]),t("div",kt,[wt,h(o(O),{modelValue:o(n).layoutConfig.menuWidth,"onUpdate:modelValue":s[18]||(s[18]=e=>o(n).layoutConfig.menuWidth=e),onChange:s[19]||(s[19]=e=>p("menuWidth",o(n).layoutConfig.menuWidth))},null,8,["modelValue"])]),t("div",$t,[Vt,h(o(O),{modelValue:o(n).layoutConfig.menuCloseWidth,"onUpdate:modelValue":s[20]||(s[20]=e=>o(n).layoutConfig.menuCloseWidth=e),onChange:s[21]||(s[21]=e=>p("menuCloseWidth",o(n).layoutConfig.menuCloseWidth))},null,8,["modelValue"])])])])]),_:1},8,["modelValue"])}}};var Tt=J(St,[["__scopeId","data-v-6b32bc95"]]);const B=i=>(A("data-v-477d9b8d"),i=i(),F(),i),Lt={class:"svg-icon"},Ut=B(()=>t("use",{"xlink:href":"#cyanery-caidanzhankai"},null,-1)),Bt=[Ut],Pt={class:"svg-icon"},Wt=B(()=>t("use",{"xlink:href":"#cyanery-caidanshouqi"},null,-1)),It=[Wt],Mt={class:"header-center"},Rt={class:"header-right"},jt={class:"header-item"},zt=["xlink:href"],Et={class:"header-item"},qt=B(()=>t("use",{"xlink:href":"#cyanery-rili"},null,-1)),Nt=[qt],Ot=B(()=>t("svg",{class:"header-icon circle-icon"},[t("use",{"xlink:href":"#cyanery-wode"})],-1)),Dt={class:"username"},Ht={class:"user-box"},At={class:"user-buttons"},Ft=B(()=>t("svg",{class:"button-icon"},[t("use",{"xlink:href":"#cyanery-dingwei"})],-1)),Gt=ie(" \u4E2A\u4EBA\u4FE1\u606F "),Jt=[Ft,Gt],Kt=B(()=>t("svg",{class:"button-icon"},[t("use",{"xlink:href":"#cyanery-tuichu"})],-1)),Qt=ie(" \u9000\u51FA\u767B\u5F55 "),Xt=[Kt,Qt],Yt={class:"header-item"},Zt=B(()=>t("use",{"xlink:href":"#cyanery-shezhi1"},null,-1)),eo=[Zt],to={__name:"index",setup(i){const a=z(null),r=z(!1),b=G(),w=$e(),_=N(),p=E(()=>_.getCollapse()),d=z(!1);ve(()=>{document.body.clientWidth<1500&&m()});const m=()=>{_.setCollapse(!p.value)},s=()=>{w.clearUser(),_.clearState(),b.push({name:"Login"})},v=u=>{b.push({name:u})},e=()=>{d.value?document.exitFullscreen():document.querySelector("body").requestFullscreen()};document.addEventListener("fullscreenchange",u=>{document.fullscreenElement?d.value=!0:d.value=!1});const x=()=>{a.value.openDrawer()},L=()=>w.errirMonitor.toggleShow(),g=()=>r.value=!r.value;return(u,k)=>(l(),c("div",{class:T({"layout-header":!0,"collapse-header":!o(p)})},[$(h(ue,null,null,512),[[S,["layout-top"].includes(o(n).layout)]]),t("div",{class:"collapse-btn",onClick:m},[$((l(),c("svg",Lt,Bt,512)),[[S,!o(p)]]),$((l(),c("svg",Pt,It,512)),[[S,o(p)]])]),t("div",Mt,[o(n).tagPosition==="header"?(l(),R(ce,{key:0})):H("",!0)]),t("div",Rt,[t("div",jt,[(l(),c("svg",{class:"header-icon",onClick:e},[t("use",{"xlink:href":d.value?"#cyanery-tuichuquanping":"#cyanery-quanping"},null,8,zt)]))]),t("div",Et,[(l(),c("svg",{class:"header-icon circle-icon",onClick:L},Nt))]),t("div",{class:"header-item user-item",onMouseenter:g,onMouseleave:g},[Ot,t("span",Dt,D(o(w).getUserInfo().username),1),h(o(xe),null,{default:U(()=>[$(t("div",Ht,[t("div",At,[t("div",{class:"user-button",onClick:k[0]||(k[0]=y=>v("Personal"))},Jt),t("div",{class:"user-button",onClick:s},Xt)])],512),[[S,r.value]])]),_:1})],32),t("div",Yt,[(l(),c("svg",{class:"header-icon circle-icon",onClick:x},eo))])]),h(Tt,{ref_key:"layoutSettingRef",ref:a},null,512)],2))}};var oo=J(to,[["__scopeId","data-v-477d9b8d"]]);const so={class:"layout-menu"},ao={class:"menu-icon"},no=["xlink:href"],lo={__name:"index",setup(i){const a=re(),r=G(),b=N(),w=E(()=>a.name),_=E(()=>b.getCollapse()),p=E(()=>{const s=b.getRoleRoute()||[];return d(s)}),d=(s=[])=>{const v=[];return s.filter(e=>!e.hidden).forEach(e=>{let x=e.children&&e.children.length,L=q(j({},e),{name:e.meta.title,key:e.name,routeName:e.name,children:x?[]:null});e.root===!0&&(x=!1,L=q(j(j({},L),e.children[0]),{order:e.order,name:e.meta.title,routeName:e.children[0].name,key:e.children[0].name,children:null})),x&&L.children.push(...d(e.children)),v.push(L)}),v.sort((e,x)=>e.order-x.order),v},m=s=>{(!s.children||s.children&&s.children.length<1)&&r.push({name:s.routeName})};return(s,v)=>(l(),c("div",so,[h(o(fe),{"model-value":o(w),open:o(_),data:o(p),unique:!0,theme:o(n).menuTheme,"background-color":"var(--menu-bg-color)","active-color":"var(--menu-open-bg-color)","text-color":"var(--menu-text-color)","active-text-corlor":"var(--main-color)","close-width":"var(--menu-close-width)",width:"var(--menu-width)",onMenuClick:m},{header:U(()=>[$(h(ue,null,null,512),[[S,["layout-left","layout-header-scroll"].includes(o(n).layout)]])]),icon:U(({data:e})=>[(l(),c("svg",ao,[t("use",{"xlink:href":"#cyanery-"+e.icon},null,8,no)]))]),_:1},8,["model-value","open","data","theme"])]))}},io=t("div",{class:"layout-content-corner corner-left"},null,-1),ro=t("div",{class:"layout-content-corner corner-right"},null,-1),co={class:"content"},Lo={__name:"index",setup(i){const a=N();return(r,b)=>(l(),c("div",{class:T(["layout-body",o(n).layout]),style:le(o(Se))},[h(oo),h(lo),t("div",{class:T(["layout-content",o(a).getCollapse()?"full-content":"collapse-content"])},[io,ro,o(n).tagPosition==="content"?(l(),R(ce,{key:0})):H("",!0),t("div",co,[h(Ve)])],2)],6))}};export{Lo as default};
