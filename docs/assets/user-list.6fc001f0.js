var f=Object.defineProperty,F=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var i=(t,e,a)=>e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,p=(t,e)=>{for(var a in e||(e={}))y.call(e,a)&&i(t,a,e[a]);if(c)for(var a of c(e))C.call(e,a)&&i(t,a,e[a]);return t},d=(t,e)=>F(t,D(e));import{k as v,d as g,r as A,s as E,a as r,o as z,c as x,b as l,e as u,w as k,n as B}from"./index.fb49d946.js";const H=(t={})=>v({url:"/user/list",method:"post",data:t}),N={class:"search-box"},V={class:"search-btns"},U={class:"search-content"},Y={class:"tools-box"},S=g({name:"UserList"}),L=g(d(p({},S),{setup(t){const e=A({autoHeight:!0,loading:!1,searchForm:{username:"",crt_time:E().format("YYYY-MM-DD"),pageNum:1,pageSize:10,total:0},searchFormItems:[{label:"\u7528\u6237\u540D",prop:"username",type:"input",span:6},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"crt_time",type:"date",span:6}],tableData:[],tableColumns:[{type:"index"},{label:"\u7528\u6237\u540D",prop:"username",mWidth:120},{label:"\u72B6\u6001",prop:"status",mWidth:100}]});a();function a(){return e.loading=!0,H(e.searchForm).then(n=>{e.tableData=n.data.result||[],e.searchForm.total=n.data.total,e.loading=!1}).catch(()=>{e.loading=!1})}const h=n=>{a()};return(n,o)=>{const m=r("cy-button"),_=r("cy-form"),b=r("cy-table");return z(),x("div",{class:B(["search-page",e.autoHeight?"":"auto-height"])},[l("div",N,[u(_,{modelValue:e.searchForm,"onUpdate:modelValue":o[0]||(o[0]=s=>e.searchForm=s),"form-items":e.searchFormItems},{default:k(()=>[l("div",V,[u(m,{class:"search-btn",type:"search",onClick:a})])]),_:1},8,["modelValue","form-items"])]),l("div",U,[l("div",Y,[u(m,{label:e.autoHeight?"\u53D6\u6D88\u81EA\u9002\u5E94\u9AD8\u5EA6":"\u81EA\u9002\u5E94\u9AD8\u5EA6",theme:"success",class:"tool-button",onClick:o[1]||(o[1]=s=>e.autoHeight=!e.autoHeight)},null,8,["label"])]),u(b,{"page-num":e.searchForm.pageNum,"onUpdate:page-num":o[2]||(o[2]=s=>e.searchForm.pageNum=s),"page-size":e.searchForm.pageSize,"onUpdate:page-size":o[3]||(o[3]=s=>e.searchForm.pageSize=s),loading:e.loading,columns:e.tableColumns,data:e.tableData,total:e.searchForm.total,onPageChange:h},null,8,["page-num","page-size","loading","columns","data","total"])])],2)}}}));export{L as default};
